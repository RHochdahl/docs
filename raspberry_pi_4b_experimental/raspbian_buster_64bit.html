<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Raspbian Buster 64bit &mdash; HippoCampusDocs  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Ubuntu 20.04 Server 64bit" href="ubuntu_20.04_server_64bit.html" />
    <link rel="prev" title="Raspberry Pi 4B Experimental" href="../raspberry_pi_4b_experimental.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> HippoCampusDocs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raspberry_pi_4b_setup.html">Raspberry Pi 4B Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../raspberry_pi_4b_experimental.html">Raspberry Pi 4B Experimental</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Raspbian Buster 64bit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparation">Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-ros">Install ROS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compile-userland-libraries">Compile Userland Libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-arducam-library">Install Arducam Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-symbolic-links">Create Symbolic Links</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ubuntu_20.04_server_64bit.html">Ubuntu 20.04 Server 64bit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hippocampus_hardware.html">HippoCampus Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bluerov.html">BlueROV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gantry.html">Gantry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow_and_style_guide.html">Workflow and Style Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HippoCampusDocs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
           <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../raspberry_pi_4b_experimental.html">Raspberry Pi 4B Experimental</a> &raquo;</li>
      <li>Raspbian Buster 64bit</li>
    
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/HippoCampusRobotics/docs/blob/master/raspberry_pi_4b_experimental/raspbian_buster_64bit.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
    <li class="wy-breadcrumbs-aside"><a href="https://hippocampusrobotics.github.io/" class="fa fa-github"> Project Page </a></li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="raspbian-buster-64bit">
<h1>Raspbian Buster 64bit<a class="headerlink" href="#raspbian-buster-64bit" title="Permalink to this headline"></a></h1>
<p>An experimental 64bit image of Raspbian can be downloaded from <a class="reference external" href="https://downloads.raspberrypi.org/raspios_arm64/images/">here</a>. The advantage of the 64bit version are the prebuilt packages for ROS. But at the same time problems regarding the camera can occure. The Arducam library depends on MMAL. This is not prebuilt for 64bit systems. It would be rather nice to not rely on Arducam’s OV9281 camera board but to use an USB camera. But for now this is how it is.</p>
<div class="section" id="preparation">
<h2>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline"></a></h2>
<p>Append the following to <code class="file docutils literal notranslate"><span class="pre">/boot/config.txt</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># enable additional uarts if you need them</span>
<span class="nv">dtoverlay</span><span class="o">=</span>uart4
<span class="nv">dtoverlay</span><span class="o">=</span>uart5
<span class="c1"># enable login via serial console</span>
<span class="nv">enable_uart</span><span class="o">=</span><span class="m">1</span>
<span class="c1"># enable camera</span>
<span class="nv">start_x</span><span class="o">=</span><span class="m">1</span>
<span class="c1"># increase GPU memory if camera is used.</span>
<span class="nv">gpu_mem</span><span class="o">=</span><span class="m">256</span>
<span class="c1"># Needed for OV9281 camera. Feel free to remove this line if not needed.</span>
<span class="nv">dtparam</span><span class="o">=</span><span class="nv">i2c_vc</span><span class="o">=</span>on
</pre></div>
</div>
<p>Also create an empty <code class="file docutils literal notranslate"><span class="pre">ssh</span></code> file on <code class="file docutils literal notranslate"><span class="pre">/boot</span></code> and change the hostname according to our general naming convention in <a class="reference internal" href="../raspberry_pi_4b_setup/pre_boot_configuration.html#pre-boot-configuration"><span class="std std-ref">Pre-Boot Configuration</span></a>.</p>
</div>
<div class="section" id="install-ros">
<h2>Install ROS<a class="headerlink" href="#install-ros" title="Permalink to this headline"></a></h2>
<p>You can in general follow the official installation guidelines at the <a class="reference external" href="http://wiki.ros.org/noetic/Installation/Ubuntu">ROS wiki</a> (even if it is the Ubuntu guide).</p>
</div>
<div class="section" id="compile-userland-libraries">
<h2>Compile Userland Libraries<a class="headerlink" href="#compile-userland-libraries" title="Permalink to this headline"></a></h2>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/raspberrypi/userland <span class="o">&amp;&amp;</span> <span class="nb">cd</span> userland
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git revert f97b1af1b3e653f9da2c1a3643479bfd469e3b74
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git revert e31da99739927e87707b2e1bc978e75653706b9c
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;-Wl,--no-as-needed&quot;</span>
./buildme --aarch64
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo cp build/lib/*.so /usr/lib/aarch64-linux-gnu/
</pre></div>
</div>
</div>
<div class="section" id="install-arducam-library">
<h2>Install Arducam Library<a class="headerlink" href="#install-arducam-library" title="Permalink to this headline"></a></h2>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="o">&amp;&amp;</span> git clone https://github.com/ArduCAM/MIPI_Camera.git
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo cp MIPI_Camera/RPI/lib/aarch64/libarducam_mipicamera /usr/lib/
</pre></div>
</div>
</div>
<div class="section" id="create-symbolic-links">
<h2>Create Symbolic Links<a class="headerlink" href="#create-symbolic-links" title="Permalink to this headline"></a></h2>
<p>In our <a class="reference external" href="https://github.com/hippoCampusRobotics/camera">camera package</a> is a script to create necessary symlinks for the libraries. Otherwise the linker will complain because of undefined references when executing <code class="code docutils literal notranslate"><span class="pre">catkin</span> <span class="pre">build</span></code>.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../raspberry_pi_4b_experimental.html" class="btn btn-neutral float-left" title="Raspberry Pi 4B Experimental" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ubuntu_20.04_server_64bit.html" class="btn btn-neutral float-right" title="Ubuntu 20.04 Server 64bit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Thies Lennart Alff, Nathalie Bauschmann.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>